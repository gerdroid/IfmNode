<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<html> 
 <head> 
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
    <title>Connections per Hour</title> 
    <link href="layout.css" rel="stylesheet" type="text/css"> 
    <script language="javascript" type="text/javascript" src="./jquery.js"></script> 
    <script language="javascript" type="text/javascript" src="./jquery.flot.js"></script> 
    <script language="javascript" type="text/javascript" src="./jquery.flot.navigate.js"></script> 
 </head> 
    <body> 
    <h1>Connections per Hour</h1> 
 
    <div id="placeholder" style="width:800px; height:480px; position: relative; cursor: auto"></div> 
 
<script id="source"> 
  $(function () {
    var t = 60 * 60 * 24 * 7;
    var s = 60 * 60;
    $.getJSON("http://localhost:8080/connectionTime?interval=" + t + "&scale=" + s, function(d) {
      var rangeStart =d[0][0];
      var rangeEnd =d[d.length-1][0];
      var week = rangeStart + 1000 * 60 * 60 * 24 * 7 * 4;
      var options = { 
        xaxis: { 
          mode: "time",
          max: week,
          panRange: [rangeStart, rangeEnd]
        }, 
        pan: {
          interactive: true
        }
      };
      $.plot($("#placeholder"), [d], options);
    });
  });
</script> 
 
 </body> 
</html> 

