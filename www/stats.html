<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<html> 
 <head> 
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
    <title>IfmServer Stats</title> 
    <link href="layout.css" rel="stylesheet" type="text/css"> 
    <script language="javascript" type="text/javascript" src="./jquery.js"></script> 
    <script language="javascript" type="text/javascript" src="./jquery.flot.js"></script> 
    <script language="javascript" type="text/javascript" src="./jquery.flot.navigate.js"></script> 
 </head> 
    <body> 
    <h1>Connection Times</h1> 
    <div id="placeholder1" style="width:640px; height:320px"></div> 
    <br/>
    <h1>Number of Connections</h1>
    <div id="placeholder2" style="width:640px; height:320px"></div>
 
  <script id="source"> 
    $(function () {
      var t = 60 * 60 * 24 * 7;
      var s = 60 * 60;
      $.getJSON("http://localhost:8080/connectionTime?interval=" + t + "&scale=" + s, function(d) {
        var rangeStart =d[0][0];
        var rangeEnd =d[d.length-1][0];
        var week = rangeStart + 1000 * 60 * 60 * 24 * 7 * 4;
        var options = { 
          xaxis: { 
            mode: "time",
            max: week,
            panRange: [rangeStart, rangeEnd]
          }, 
          pan: {
            interactive: true
          }
        };
        $.plot($("#placeholder1"), [d], options);
      });
      $.getJSON("http://localhost:8080/connections?interval=" + t, function(d) {
        var rangeStart =d[0][0];
        var rangeEnd =d[d.length-1][0];
        var week = rangeStart + 1000 * 60 * 60 * 24 * 7 * 4;
        var options = { 
          xaxis: { 
            mode: "time",
            max: week,
            panRange: [rangeStart, rangeEnd]
          }, 
          pan: {
            interactive: true
          }
        };
        $.plot($("#placeholder2"), [d], options);
      });
    });
  </script> 
 </body> 
</html> 

